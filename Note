{
  "type": "record",
  "name": "GameUpdateEvent",
  "namespace": "com.casino.wdt",
  "fields": [
    {
      "name": "header",
      "type": {
        "type": "record",
        "name": "Header",
        "fields": [
          { "name": "messageId", "type": "string", "doc": "Unique ID for every message" },
          { "name": "propertyId", "type": "string", "doc": "Property/site identifier" },
          { "name": "event", "type": "string", "doc": "Event name" },
          { "name": "eventType", "type": ["null", "string"], "default": null, "doc": "Type of event" },
          { "name": "eventTime", "type": "string", "doc": "Event date and time" },
          { "name": "gamingDay", "type": "string", "doc": "Current gaming day" }
        ]
      }
    },
    {
      "name": "content",
      "type": {
        "type": "record",
        "name": "Content",
        "fields": [
          { "name": "pitName", "type": ["null", "string"], "default": null },
          { "name": "tableName", "type": ["null", "string"], "default": null },
          { "name": "dealerId", "type": ["null", "string"], "default": null },
          { "name": "supervisorId", "type": ["null", "string"], "default": null },
          {
            "name": "gameDetails",
            "type": {
              "type": "record",
              "name": "GameDetails",
              "fields": [
                { "name": "gameId", "type": "long" },
                { "name": "startTime", "type": "string" },
                { "name": "endTime", "type": ["null", "string"], "default": null },
                { "name": "gameResult", "type": ["null", "string"], "default": null },
                {
                  "name": "seatDetails",
                  "type": {
                    "type": "array",
                    "items": {
                      "type": "record",
                      "name": "SeatDetail",
                      "fields": [
                        { "name": "seat", "type": "int" },
                        {
                          "name": "betDetails",
                          "type": {
                            "type": "array",
                            "items": {
                              "type": "record",
                              "name": "BetDetail",
                              "fields": [
                                { "name": "seatLabel", "type": "string" },
                                { "name": "patronId", "type": ["null", "string"], "default": null },
                                { "name": "ratingId", "type": ["null", "long", "int"], "default": null, "doc": "Using union for safety as sample shows int but ID might grow" },
                                { "name": "sessionId", "type": ["null", "string"], "default": null },
                                { "name": "isSeated", "type": "boolean" },
                                { "name": "isRated", "type": "boolean" },
                                { "name": "betType", "type": "string" },
                                {
                                  "name": "chipsetDetails",
                                  "type": {
                                    "type": "array",
                                    "items": {
                                      "type": "record",
                                      "name": "ChipsetDetail",
                                      "fields": [
                                        { "name": "betChipset", "type": "string" },
                                        { "name": "betAmt", "type": "double" },
                                        { "name": "betWinLoss", "type": "double" },
                                        { "name": "betTheoWin", "type": "double" }
                                      ]
                                    }
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    }
  ]
}